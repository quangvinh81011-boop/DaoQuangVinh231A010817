<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carousel Responsive</title>
    <!-- Tải Tailwind CSS để đơn giản hóa việc responsive và styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Thiết lập font Inter mặc định */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        /* Container chứa tất cả các slide */
        .carousel-track {
            display: flex;
            /* Tăng tốc độ chuyển động (1.5s) và sử dụng hàm ease-in-out */
            transition: transform 1.5s ease-in-out;
        }

        /* Mỗi slide có chiều rộng 100% của viewport container */
        .carousel-slide {
            flex-shrink: 0; /* Quan trọng: Ngăn slide bị co lại */
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* CSS cho nút điều khiển (Next/Prev) */
        .carousel-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 1rem 0.5rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .carousel-button:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }

        .prev-button {
            left: 0;
            border-radius: 0 0.5rem 0.5rem 0;
        }

        .next-button {
            right: 0;
            border-radius: 0.5rem 0 0 0.5rem;
        }

        /* CSS cho các chấm chỉ báo (Dots) */
        .dots-container {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }

        .dot {
            width: 10px;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }

        .dot.active {
            background-color: #10b981; /* Màu xanh lá cây */
            transform: scale(1.2);
        }

        /* Sử dụng Tailwind utility cho hình ảnh và container */
    </style>
</head>
<body class="bg-gray-100 p-4">

    <!-- Container chính của Carousel -->
    <div id="carouselContainer" class="relative w-full max-w-4xl mx-auto overflow-hidden shadow-2xl rounded-xl" style="aspect-ratio: 16/9; max-height: 80vh;">
        
        <!-- Track chứa tất cả các slide (chuyển động ngang) -->
        <div id="carouselTrack" class="carousel-track h-full">
            
            <!-- Slide 1 -->
            <div class="carousel-slide bg-yellow-400">
                <img src="images/chandung.png" alt="Slide 1" class="w-full h-full object-cover">
                <div class="absolute inset-0 flex items-end justify-center pb-8"><span class="text-4xl font-bold text-white shadow-lg p-2 rounded-lg bg-black bg-opacity-30"></span></div>
            </div>

            <!-- Slide 2 -->
            <div class="carousel-slide bg-green-400">
                <img src="images/chandung1.jpg" alt="Slide 2" class="w-full h-full object-cover">
                <div class="absolute inset-0 flex items-end justify-center pb-8"><span class="text-4xl font-bold text-white shadow-lg p-2 rounded-lg bg-black bg-opacity-30"></span></div>
            </div>

            <!-- Slide 3 -->
            <div class="carousel-slide bg-blue-400">
                <img src="images/chandung2.jpg" alt="Slide 3" class="w-full h-full object-cover">
                <div class="absolute inset-0 flex items-end justify-center pb-8"><span class="text-4xl font-bold text-white shadow-lg p-2 rounded-lg bg-black bg-opacity-30"></span></div>
            </div>

            <!-- Slide 4 -->
            <div class="carousel-slide bg-red-400">
                <img src="images/chandung3.jpg" alt="Slide 4" class="w-full h-full object-cover">
                <div class="absolute inset-0 flex items-end justify-center pb-8"><span class="text-4xl font-bold text-white shadow-lg p-2 rounded-lg bg-black bg-opacity-30"></span></div>
            </div>

            <!-- Slide 5 -->
            <div class="carousel-slide bg-purple-400">
                <img src="images/chandung4.jpg" alt="Slide 5" class="w-full h-full object-cover">
                <div class="absolute inset-0 flex items-end justify-center pb-8"><span class="text-4xl font-bold text-white shadow-lg p-2 rounded-lg bg-black bg-opacity-30"></span></div>
            </div>

            <!-- Slide 6 -->
            <div class="carousel-slide bg-indigo-400">
                <img src="images/chandung5.jpg" alt="Slide 6" class="w-full h-full object-cover">
                <div class="absolute inset-0 flex items-end justify-center pb-8"><span class="text-4xl font-bold text-white shadow-lg p-2 rounded-lg bg-black bg-opacity-30"></span></div>
            </div>

        </div>

        <!-- Nút Previous -->
        <button id="prevButton" class="carousel-button prev-button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
        </button>

        <!-- Nút Next -->
        <button id="nextButton" class="carousel-button next-button">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
        </button>

        <!-- Container cho các chấm chỉ báo (Dots) -->
        <div id="dotsContainer" class="dots-container">
            <!-- Dots sẽ được thêm bằng JavaScript -->
        </div>

    </div>

    <script>
        // Khai báo các biến DOM element
        const carouselTrack = document.getElementById('carouselTrack');
        const slides = document.querySelectorAll('.carousel-slide');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const dotsContainer = document.getElementById('dotsContainer');
        const slideCount = slides.length;

        // State: chỉ số của slide hiện tại (bắt đầu từ 0)
        let currentSlideIndex = 0;
        let autoSlideInterval;

        // ===============================================
        // A. LOGIC XỬ LÝ CHUYỂN SLIDE & INDEX
        // ===============================================

        /**
         * Cập nhật vị trí của track carousel để hiển thị slide hiện tại.
         * Sử dụng CSS transform để chuyển động mượt mà.
         */
        function updateCarousel() {
            // Tính toán giá trị translateX. Ví dụ:
            // Index 0: 0%
            // Index 1: -100%
            // Index 2: -200%
            const offset = currentSlideIndex * -100;
            carouselTrack.style.transform = `translateX(${offset}%)`;

            // Cập nhật các chấm chỉ báo (dots)
            updateDots();
        }

        /**
         * Chuyển đến slide tiếp theo.
         */
        function nextSlide() {
            // Tăng index.
            currentSlideIndex++;
            
            // Xử lý Out-of-Bound: Nếu vượt quá giới hạn (index = slideCount),
            // thì quay lại slide đầu tiên (index = 0).
            // Đây là logic vòng lặp vô tận (infinite loop) đơn giản.
            if (currentSlideIndex >= slideCount) {
                currentSlideIndex = 0;
            }
            
            updateCarousel();
            resetAutoSlide();
        }

        /**
         * Chuyển về slide trước đó.
         */
        function prevSlide() {
            // Giảm index.
            currentSlideIndex--;

            // Xử lý Out-of-Bound: Nếu nhỏ hơn 0, quay lại slide cuối cùng.
            if (currentSlideIndex < 0) {
                currentSlideIndex = slideCount - 1;
            }
            
            updateCarousel();
            resetAutoSlide();
        }

        // ===============================================
        // B. LOGIC TỰ ĐỘNG CHUYỂN SLIDE (AUTO-SLIDE)
        // ===============================================

        /**
         * Khởi động tính năng tự động chuyển slide sau mỗi 3 giây.
         */
        function startAutoSlide() {
            // Xóa interval cũ trước khi tạo interval mới để tránh lỗi nhân đôi
            clearInterval(autoSlideInterval);
            // Thiết lập interval mới
            autoSlideInterval = setInterval(nextSlide, 3000); // 3000ms = 3 giây
        }

        /**
         * Reset (khởi động lại) bộ đếm tự động chuyển slide.
         * Được gọi sau khi người dùng tương tác (nhấn Next/Prev).
         */
        function resetAutoSlide() {
            clearInterval(autoSlideInterval);
            startAutoSlide();
        }

        // ===============================================
        // C. LOGIC CHẤM CHỈ BÁO (DOTS)
        // ===============================================

        /**
         * Tạo các chấm chỉ báo dựa trên số lượng slide.
         */
        function createDots() {
            slides.forEach((_, index) => {
                const dot = document.createElement('span');
                dot.classList.add('dot');
                dot.dataset.index = index; // Lưu index vào data attribute
                
                // Thêm sự kiện click để chuyển slide trực tiếp
                dot.addEventListener('click', () => {
                    currentSlideIndex = index;
                    updateCarousel();
                    resetAutoSlide();
                });

                dotsContainer.appendChild(dot);
            });
        }

        /**
         * Cập nhật class 'active' cho chấm chỉ báo hiện tại.
         */
        function updateDots() {
            document.querySelectorAll('.dot').forEach((dot, index) => {
                if (index === currentSlideIndex) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        // ===============================================
        // D. KHỞI TẠO VÀ XỬ LÝ SỰ KIỆN
        // ===============================================

        // 1. Gắn sự kiện cho nút bấm
        nextButton.addEventListener('click', nextSlide);
        prevButton.addEventListener('click', prevSlide);

        // 2. Khởi tạo
        document.addEventListener('DOMContentLoaded', () => {
            createDots();
            updateCarousel(); // Hiển thị slide đầu tiên (index 0) và dot active
            startAutoSlide(); // Bắt đầu tự động chuyển slide
        });

        // 3. Xử lý Responsive (Điều chỉnh khi cửa sổ resize)
        // Mặc dù CSS đã xử lý phần lớn, logic này có thể dùng để tinh chỉnh nếu cần
        // window.addEventListener('resize', updateCarousel);
        
    </script>
</body>
</html>